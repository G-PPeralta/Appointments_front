{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\nimport 'dotenv';\nexport const useAppointments = () => {\n  _s();\n\n  const [appointments, setAppointments] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(undefined);\n  const URL = process.env.BACKEND_URL;\n  useEffect(() => {\n    setLoading(true);\n    fetch(`${URL}/appointments`).then(response => response.json()).then(data => setAppointments(data)).catch(error => setError(error)).finally(() => setLoading(false));\n  }, []);\n\n  const createAppointment = appointment => {\n    fetch(`${URL}/appointments`, {\n      method: 'POST',\n      body: JSON.stringify(appointment),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(response => response.json()).then(data => {\n      setAppointments([...appointments, data]);\n    });\n  };\n\n  const updateAppointment = (appointment, id) => {\n    fetch(`${URL}/appointments/${id}`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(appointment)\n    }).then(response => response.json()).then(data => {\n      setAppointments(appointments.map(appt => appt.id !== id ? appt : appointment));\n    });\n  };\n\n  const deleteAppointment = id => {\n    fetch(`${URL}/appointments/${id}`, {\n      method: 'DELETE'\n    }).then(() => {\n      setAppointments(appointments.filter(appt => appt.id !== id));\n    });\n  };\n\n  return {\n    appointments,\n    loading,\n    error,\n    createAppointment,\n    updateAppointment,\n    deleteAppointment\n  };\n};\n\n_s(useAppointments, \"+eKPQT2860l/yK5/gE5RQxycCRU=\");","map":{"version":3,"names":["useEffect","useState","useAppointments","appointments","setAppointments","loading","setLoading","error","setError","undefined","URL","process","env","BACKEND_URL","fetch","then","response","json","data","catch","finally","createAppointment","appointment","method","body","JSON","stringify","headers","updateAppointment","id","map","appt","deleteAppointment","filter"],"sources":["/home/gabriel/Estudos-Paralelos/Appointments_front/appointments/src/hooks/useAppointments.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport 'dotenv';\n\nexport const useAppointments = () => {\n  const [appointments, setAppointments] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(undefined);\n\n  const URL = process.env.BACKEND_URL;\n\n  useEffect(() => {\n    setLoading(true);\n\n    fetch(`${URL}/appointments`)\n      .then((response) => response.json())\n      .then((data) => setAppointments(data))\n      .catch((error) => setError(error))\n      .finally(() => setLoading(false));\n  }, []);\n\n  const createAppointment = (appointment) => {\n    fetch(`${URL}/appointments`, {\n      method: 'POST',\n      body: JSON.stringify(appointment),\n      headers: { 'Content-Type': 'application/json' },\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        setAppointments([...appointments, data]);\n      });\n  };\n\n  const updateAppointment = (appointment, id) => {\n    fetch(`${URL}/appointments/${id}`, {\n      method: 'PUT',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(appointment),\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        setAppointments(\n          appointments.map((appt) => (appt.id !== id ? appt : appointment)),\n        );\n      });\n  };\n\n  const deleteAppointment = (id) => {\n    fetch(`${URL}/appointments/${id}`, {\n      method: 'DELETE',\n    }).then(() => {\n      setAppointments(appointments.filter((appt) => appt.id !== id));\n    });\n  };\n\n  return {\n    appointments,\n    loading,\n    error,\n    createAppointment,\n    updateAppointment,\n    deleteAppointment,\n  };\n};\n"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAO,QAAP;AAEA,OAAO,MAAMC,eAAe,GAAG,MAAM;EAAA;;EACnC,MAAM,CAACC,YAAD,EAAeC,eAAf,IAAkCH,QAAQ,CAAC,EAAD,CAAhD;EACA,MAAM,CAACI,OAAD,EAAUC,UAAV,IAAwBL,QAAQ,CAAC,KAAD,CAAtC;EACA,MAAM,CAACM,KAAD,EAAQC,QAAR,IAAoBP,QAAQ,CAACQ,SAAD,CAAlC;EAEA,MAAMC,GAAG,GAAGC,OAAO,CAACC,GAAR,CAAYC,WAAxB;EAEAb,SAAS,CAAC,MAAM;IACdM,UAAU,CAAC,IAAD,CAAV;IAEAQ,KAAK,CAAE,GAAEJ,GAAI,eAAR,CAAL,CACGK,IADH,CACSC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EADtB,EAEGF,IAFH,CAESG,IAAD,IAAUd,eAAe,CAACc,IAAD,CAFjC,EAGGC,KAHH,CAGUZ,KAAD,IAAWC,QAAQ,CAACD,KAAD,CAH5B,EAIGa,OAJH,CAIW,MAAMd,UAAU,CAAC,KAAD,CAJ3B;EAKD,CARQ,EAQN,EARM,CAAT;;EAUA,MAAMe,iBAAiB,GAAIC,WAAD,IAAiB;IACzCR,KAAK,CAAE,GAAEJ,GAAI,eAAR,EAAwB;MAC3Ba,MAAM,EAAE,MADmB;MAE3BC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeJ,WAAf,CAFqB;MAG3BK,OAAO,EAAE;QAAE,gBAAgB;MAAlB;IAHkB,CAAxB,CAAL,CAKGZ,IALH,CAKSC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EALtB,EAMGF,IANH,CAMSG,IAAD,IAAU;MACdd,eAAe,CAAC,CAAC,GAAGD,YAAJ,EAAkBe,IAAlB,CAAD,CAAf;IACD,CARH;EASD,CAVD;;EAYA,MAAMU,iBAAiB,GAAG,CAACN,WAAD,EAAcO,EAAd,KAAqB;IAC7Cf,KAAK,CAAE,GAAEJ,GAAI,iBAAgBmB,EAAG,EAA3B,EAA8B;MACjCN,MAAM,EAAE,KADyB;MAEjCI,OAAO,EAAE;QAAE,gBAAgB;MAAlB,CAFwB;MAGjCH,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeJ,WAAf;IAH2B,CAA9B,CAAL,CAKGP,IALH,CAKSC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EALtB,EAMGF,IANH,CAMSG,IAAD,IAAU;MACdd,eAAe,CACbD,YAAY,CAAC2B,GAAb,CAAkBC,IAAD,IAAWA,IAAI,CAACF,EAAL,KAAYA,EAAZ,GAAiBE,IAAjB,GAAwBT,WAApD,CADa,CAAf;IAGD,CAVH;EAWD,CAZD;;EAcA,MAAMU,iBAAiB,GAAIH,EAAD,IAAQ;IAChCf,KAAK,CAAE,GAAEJ,GAAI,iBAAgBmB,EAAG,EAA3B,EAA8B;MACjCN,MAAM,EAAE;IADyB,CAA9B,CAAL,CAEGR,IAFH,CAEQ,MAAM;MACZX,eAAe,CAACD,YAAY,CAAC8B,MAAb,CAAqBF,IAAD,IAAUA,IAAI,CAACF,EAAL,KAAYA,EAA1C,CAAD,CAAf;IACD,CAJD;EAKD,CAND;;EAQA,OAAO;IACL1B,YADK;IAELE,OAFK;IAGLE,KAHK;IAILc,iBAJK;IAKLO,iBALK;IAMLI;EANK,CAAP;AAQD,CA3DM;;GAAM9B,e"},"metadata":{},"sourceType":"module"}