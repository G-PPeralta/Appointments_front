{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nexport const useAppointments = () => {\n  _s();\n\n  const [appointments, setAppointments] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(undefined);\n  useEffect(() => {\n    setLoading(true);\n    fetch('http://localhost:3001/appointments').then(response => response.json()).then(data => setAppointments(data)).catch(error => setError(error)).finally(() => setLoading(false));\n  }, []);\n\n  const createAppointment = appointment => {\n    setLoading(true);\n    console.log('BODY', JSON.stringify(appointment));\n    fetch('http://localhost:3001/appointments', {\n      method: 'POST',\n      body: JSON.stringify(appointment),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(response => response.json()).then(data => {\n      setAppointments([...appointments, data]);\n    }).catch(error => setError(error)).finally(() => setLoading(false));\n  };\n\n  const updateAppointment = (appointment, id) => {\n    setLoading(true);\n    fetch(`http://localhost:3001/appointments/${id}`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(appointment)\n    }).then(response => response.json()).then(data => {\n      setAppointments([...appointments, data]);\n    }).catch(error => setError(error)).finally(() => setLoading(false));\n  };\n\n  const deleteAppointment = id => {\n    setLoading(true);\n    fetch(`http://localhost:3001/appointments/${id}`, {\n      method: 'DELETE'\n    }).then(response => response.json()).then(data => {\n      setAppointments();\n    }).catch(error => setError(error)).finally(() => setLoading(false));\n  };\n\n  return {\n    appointments,\n    loading,\n    error,\n    createAppointment,\n    updateAppointment,\n    deleteAppointment\n  };\n};\n\n_s(useAppointments, \"+eKPQT2860l/yK5/gE5RQxycCRU=\");","map":{"version":3,"names":["useEffect","useState","useAppointments","appointments","setAppointments","loading","setLoading","error","setError","undefined","fetch","then","response","json","data","catch","finally","createAppointment","appointment","console","log","JSON","stringify","method","body","headers","updateAppointment","id","deleteAppointment"],"sources":["/home/gabriel/Estudos-Paralelos/Appointments_front/appointments/src/hooks/useAppointments.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\n\nexport const useAppointments = () => {\n  const [appointments, setAppointments] = useState([]);\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState(undefined)\n\n  useEffect(() => {\n    setLoading(true)\n\n    fetch('http://localhost:3001/appointments')\n      .then((response) => response.json())\n      .then((data) => setAppointments(data))\n      .catch((error) => setError(error))\n      .finally(() => setLoading(false))\n  }, [])\n\n  const createAppointment = (appointment) => {\n    setLoading(true)\n    console.log('BODY', JSON.stringify(appointment))\n    \n    fetch('http://localhost:3001/appointments', {\n        method: 'POST',\n        body: JSON.stringify(appointment),\n        headers: { 'Content-Type': 'application/json' }\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        setAppointments([\n          ...appointments,\n          data,\n        ])\n      })\n      .catch((error) => setError(error))\n      .finally(() => setLoading(false))\n  }\n\n  const updateAppointment = (appointment, id) => {\n    setLoading(true)\n    \n    fetch(`http://localhost:3001/appointments/${ id }`, {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(appointment),\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        setAppointments([\n          ...appointments,\n          data,\n        ])\n      })\n      .catch((error) => setError(error))\n      .finally(() => setLoading(false))\n  }\n\n  const deleteAppointment = (id) => {\n    setLoading(true)\n    \n    fetch(`http://localhost:3001/appointments/${ id }`, { method: 'DELETE' })\n      .then((response) => response.json())\n      .then((data) => {\n        setAppointments()\n      })\n      .catch((error) => setError(error))\n      .finally(() => setLoading(false))\n  }\n\n  return { appointments, loading, error, createAppointment, updateAppointment, deleteAppointment }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}